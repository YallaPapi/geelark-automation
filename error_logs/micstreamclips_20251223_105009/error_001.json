{
  "error_id": "error_001",
  "timestamp": "2025-12-23T10:53:33.264798",
  "account": "micstreamclips",
  "job_id": "L9psbD0uwXm7-2.mp4_viral",
  "phase": "execute_job",
  "error_type": "Exception",
  "error_class": "Exception",
  "error_message": "Appium connection failed after 3 attempts: Message: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\nStacktrace:\nUnknownError: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\n    at getResponseForW3CError (C:\\Users\\asus\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\@appium\\base-driver\\lib\\protocol\\errors.ts:1103:34)\n    at asyncHandler (C:\\Users\\asus\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\@appium\\base-driver\\lib\\protocol\\protocol.ts:507:57)\nThe above error is caused by\nError: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\n    at ADB.getApiLevel (C:\\Users\\asus\\.appium\\node_modules\\appium-uiautomator2-driver\\node_modules\\appium-adb\\lib\\tools\\general-commands.js:94:13)\n    at AndroidUiautomator2Driver.deleteSession (C:\\Users\\asus\\.appium\\node_modules\\appium-uiautomator2-driver\\lib\\driver.ts:928:12)\n    at AndroidUiautomator2Driver.createSession (C:\\Users\\asus\\.appium\\node_modules\\appium-uiautomator2-driver\\lib\\driver.ts:416:7)\n    at AppiumDriver.createSession (C:\\Users\\asus\\AppData\\Roaming\\npm\\node_modules\\appium\\lib\\appium.js:360:35)",
  "error_repr": "Exception(\"Appium connection failed after 3 attempts: Message: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\\nStacktrace:\\nUnknownError: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\\n    at getResponseForW3CError (C:\\\\Users\\\\asus\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\node_modules\\\\@appium\\\\base-driver\\\\lib\\\\protocol\\\\errors.ts:1103:34)\\n    at asyncHandler (C:\\\\Users\\\\asus\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\node_modules\\\\@appium\\\\base-driver\\\\lib\\\\protocol\\\\protocol.ts:507:57)\\nThe above error is caused by\\nError: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\\n    at ADB.getApiLevel (C:\\\\Users\\\\asus\\\\.appium\\\\node_modules\\\\appium-uiautomator2-driver\\\\node_modules\\\\appium-adb\\\\lib\\\\tools\\\\general-commands.js:94:13)\\n    at AndroidUiautomator2Driver.deleteSession (C:\\\\Users\\\\asus\\\\.appium\\\\node_modules\\\\appium-uiautomator2-driver\\\\lib\\\\driver.ts:928:12)\\n    at AndroidUiautomator2Driver.createSession (C:\\\\Users\\\\asus\\\\.appium\\\\node_modules\\\\appium-uiautomator2-driver\\\\lib\\\\driver.ts:416:7)\\n    at AppiumDriver.createSession (C:\\\\Users\\\\asus\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\lib\\\\appium.js:360:35)\")",
  "stack_trace": "Traceback (most recent call last):\n  File \"C:\\Users\\asus\\Desktop\\projects\\geelark-automation\\parallel_worker.py\", line 228, in execute_posting_job\n    poster.connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\asus\\Desktop\\projects\\geelark-automation\\post_reel_smart.py\", line 938, in connect\n    return self._conn.connect()\n           ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\asus\\Desktop\\projects\\geelark-automation\\device_connection.py\", line 472, in connect\n    self.connect_appium()\n    ~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\asus\\Desktop\\projects\\geelark-automation\\device_connection.py\", line 440, in connect_appium\n    raise Exception(f\"Appium connection failed after {retries} attempts: {last_error}\")\nException: Appium connection failed after 3 attempts: Message: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\nStacktrace:\nUnknownError: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\n    at getResponseForW3CError (C:\\Users\\asus\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\@appium\\base-driver\\lib\\protocol\\errors.ts:1103:34)\n    at asyncHandler (C:\\Users\\asus\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\@appium\\base-driver\\lib\\protocol\\protocol.ts:507:57)\nThe above error is caused by\nError: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\n    at ADB.getApiLevel (C:\\Users\\asus\\.appium\\node_modules\\appium-uiautomator2-driver\\node_modules\\appium-adb\\lib\\tools\\general-commands.js:94:13)\n    at AndroidUiautomator2Driver.deleteSession (C:\\Users\\asus\\.appium\\node_modules\\appium-uiautomator2-driver\\lib\\driver.ts:928:12)\n    at AndroidUiautomator2Driver.createSession (C:\\Users\\asus\\.appium\\node_modules\\appium-uiautomator2-driver\\lib\\driver.ts:416:7)\n    at AppiumDriver.createSession (C:\\Users\\asus\\AppData\\Roaming\\npm\\node_modules\\appium\\lib\\appium.js:360:35)\n",
  "context": {
    "video_path": "C:\\Users\\asus\\Desktop\\projects\\geelark-automation\\campaigns\\viral\\grq\\L9psbD0uwXm7-2.mp4",
    "caption": "Prove them wrong. Build the life you want, not the one they expect.",
    "worker_id": 4,
    "appium_url": "http://127.0.0.1:4731",
    "full_traceback": "Traceback (most recent call last):\n  File \"C:\\Users\\asus\\Desktop\\projects\\geelark-automation\\parallel_worker.py\", line 228, in execute_posting_job\n    poster.connect()\n    ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\asus\\Desktop\\projects\\geelark-automation\\post_reel_smart.py\", line 938, in connect\n    return self._conn.connect()\n           ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\asus\\Desktop\\projects\\geelark-automation\\device_connection.py\", line 472, in connect\n    self.connect_appium()\n    ~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\asus\\Desktop\\projects\\geelark-automation\\device_connection.py\", line 440, in connect_appium\n    raise Exception(f\"Appium connection failed after {retries} attempts: {last_error}\")\nException: Appium connection failed after 3 attempts: Message: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\nStacktrace:\nUnknownError: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\n    at getResponseForW3CError (C:\\Users\\asus\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\@appium\\base-driver\\lib\\protocol\\errors.ts:1103:34)\n    at asyncHandler (C:\\Users\\asus\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\@appium\\base-driver\\lib\\protocol\\protocol.ts:507:57)\nThe above error is caused by\nError: Error getting device API level. Original error: The actual output 'error: you should run glogin to login first' cannot be converted to an integer\n    at ADB.getApiLevel (C:\\Users\\asus\\.appium\\node_modules\\appium-uiautomator2-driver\\node_modules\\appium-adb\\lib\\tools\\general-commands.js:94:13)\n    at AndroidUiautomator2Driver.deleteSession (C:\\Users\\asus\\.appium\\node_modules\\appium-uiautomator2-driver\\lib\\driver.ts:928:12)\n    at AndroidUiautomator2Driver.createSession (C:\\Users\\asus\\.appium\\node_modules\\appium-uiautomator2-driver\\lib\\driver.ts:416:7)\n    at AppiumDriver.createSession (C:\\Users\\asus\\AppData\\Roaming\\npm\\node_modules\\appium\\lib\\appium.js:360:35)\n"
  },
  "ui_elements_count": 0,
  "ui_elements": null,
  "screenshot_file": null
}